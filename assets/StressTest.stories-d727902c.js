var $=Object.defineProperty;var l=(e,t)=>$(e,"name",{value:t,configurable:!0});import{r as b}from"./index-348f65a9.js";import{j as a,a as x,F as N}from"./jsx-runtime-960a5b19.js";import{A as v,M as E,S as I}from"./Props-e0b17a9f.js";import"./es.object.get-own-property-descriptor-36da39c2.js";import"./web.url.constructor-244d7db5.js";import{D as A,H as R,G as y,o as q,a as F,b as k,u as _}from"./index-bffc1288.js";import"./iframe-1b3b40b8.js";import"./es.number.is-integer-1ff401fa.js";import"./index-681e4b07-b6cb86b9.js";import"./es.map.constructor-d646751b.js";import"./index-eca14e72.js";import"./es.number.is-nan-efdeddb3.js";import"./string-d2fe5096.js";import"./index-e68f7527.js";const j=l((e,t,c,d,n,i,s)=>{const p=s-n,r=Math.pow(i,p);let o=null;for(let m=0;m<i;++m){const u=`${t}/task_${m+1}`,h=`${d}.${m+1}`,S=k(c,m*r),w=k(c,(m+1)*r),M={start:S,end:w,name:h,id:u,progress:45,type:"task",parent:t,dependencies:o?[{ownTarget:"startOfTask",sourceTarget:"endOfTask",sourceId:o}]:void 0};o=u,e.push(M),p>0&&j(e,u,S,h,n+1,i,s)}},"initSubtasks"),g=l((e,t,c)=>{const d=[],n=new Date,i=k(n,Math.pow(t,c));for(let s=0;s<e;++s){const p=k(n,s),r=k(i,s),o=`project_${s+1}`,m=`Project #${s+1}`,u={start:p,end:r,name:m,id:o,progress:25,type:"project"};d.push(u),j(d,o,p,`Task #${s+1}`,1,t,c)}return d},"initTasks"),T=l(({numberOfRoots:e,numberOfSubtasks:t,depth:c})=>{const[d,n]=b.useState(()=>g(e,t,c));b.useEffect(()=>{n(g(e,t,c))},[e,t,c]);const i=b.useCallback((r,o)=>{switch(o.type){case"delete_relation":window.confirm(`Do yo want to remove relation between ${o.payload.taskFrom.name} and ${o.payload.taskTo.name}?`)&&n(r);break;case"delete_task":window.confirm(`Are you sure about ${o.payload.task.name}?`)&&n(r);break;default:n(r);break}},[]),s=b.useCallback(r=>{alert("On Double Click event Id:"+r.id)},[]),p=b.useCallback(r=>{console.log("On Click event Id:"+r.id)},[]);return a(A,{backend:R,children:a(y,{onAddTask:q,onChangeTasks:i,onDoubleClick:s,onEditTask:F,onClick:p,tasks:d})})},"StressTest");try{T.displayName="StressTest",T.__docgenInfo={description:"",displayName:"StressTest",props:{numberOfRoots:{defaultValue:null,description:"",name:"numberOfRoots",required:!0,type:{name:"number"}},numberOfSubtasks:{defaultValue:null,description:"",name:"numberOfSubtasks",required:!0,type:{name:"number"}},depth:{defaultValue:null,description:"",name:"depth",required:!0,type:{name:"number"}}}}}catch{}const C=l(e=>a(T,e),"Template");function D(e){const t=Object.assign({h1:"h1"},_(),e.components);return x(N,{children:[a(E,{title:"StressTest",component:y,argTypes:{numberOfRoots:{control:"number"},numberOfSubtasks:{control:"number"},depth:{control:"number"}},args:{numberOfRoots:4,numberOfSubtasks:4,depth:4}}),`
`,`
`,a(t.h1,{children:"Stress test example"}),`
`,a(I,{name:"StressTest",children:C.bind({})})]})}l(D,"_createMdxContent");function V(e={}){const{wrapper:t}=Object.assign({},_(),e.components);return t?a(t,Object.assign({},e,{children:a(D,e)})):D(e)}l(V,"MDXContent");const O=C.bind({});O.storyName="StressTest";O.parameters={storySource:{source:`props => {
  return <StressTest {...props} />;
}`}};const f={title:"StressTest",component:y,args:{numberOfRoots:4,numberOfSubtasks:4,depth:4},argTypes:{numberOfRoots:{control:"number"},numberOfSubtasks:{control:"number"},depth:{control:"number"}},includeStories:["stressTest"]},X={StressTest:"stressTest"};f.parameters=f.parameters||{};f.parameters.docs={...f.parameters.docs||{},page:()=>a(v,{mdxStoryNameToKey:X,mdxComponentAnnotations:f,children:a(V,{})})};const se=["Template","stressTest"];export{C as Template,se as __namedExportsOrder,f as default,O as stressTest};
//# sourceMappingURL=StressTest.stories-d727902c.js.map
