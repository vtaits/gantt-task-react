{"version":3,"file":"CustomColumns.stories-c184b826.js","sources":["../../stories/CustomColumns.tsx","../../stories/CustomColumns.stories.mdx"],"sourcesContent":["import React, {\n  useCallback,\n  useState,\n} from \"react\";\n\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nimport {\n  Column,\n  ColumnProps,\n  DateStartColumn,\n  Gantt,\n  OnChangeTasks,\n  Task,\n  TaskOrEmpty,\n  TitleColumn,\n} from \"../src\";\n\nimport {\n  initTasks,\n  onAddTask,\n  onEditTask,\n} from \"./helper\";\n\nimport \"../dist/index.css\";\n\nconst ProgressColumn: React.FC<ColumnProps> = ({\n  data: {\n    task,\n  },\n}) => {\n  if (task.type === \"project\" || task.type === \"task\") {\n    return (\n      <>\n        {task.progress}\n        %\n      </>\n    );\n  }\n\n  return null;\n};\n\nconst columns: readonly Column[] = [\n  {\n    component: DateStartColumn,\n    width: 200,\n    title: \"Date of start\",\n  },\n  {\n    component: TitleColumn,\n    width: 260,\n    title: \"Title\",\n  },\n  {\n    component: ProgressColumn,\n    width: 80,\n    title: \"Progress\",\n  },\n];\n\ntype AppProps = {\n  ganttHeight?: number;\n};\n\nexport const CustomColumns: React.FC<AppProps> = (props) => {\n  const [tasks, setTasks] = useState<readonly TaskOrEmpty[]>(initTasks());\n\n  const onChangeTasks = useCallback<OnChangeTasks>((nextTasks, action) => {\n    switch (action.type) {\n      case \"delete_relation\":\n        if (window.confirm(`Do yo want to remove relation between ${action.payload.taskFrom.name} and ${action.payload.taskTo.name}?`)) {\n          setTasks(nextTasks);\n        }\n        break;\n\n      case \"delete_task\":\n        if (window.confirm('Are you sure?')) {\n          setTasks(nextTasks);\n        }\n        break;\n\n      default:\n        setTasks(nextTasks);\n        break;\n    }\n  }, []);\n\n  const handleDblClick = useCallback((task: Task) => {\n    alert(\"On Double Click event Id:\" + task.id);\n  }, []);\n\n  const handleClick = useCallback((task: Task) => {\n    console.log(\"On Click event Id:\" + task.id);\n  }, []);\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <Gantt\n        {...props}\n        columns={columns}\n        onAddTask={onAddTask}\n        onChangeTasks={onChangeTasks}\n        onDoubleClick={handleDblClick}\n        onEditTask={onEditTask}\n        onClick={handleClick}\n        tasks={tasks}\n      />\n    </DndProvider>\n  );\n};\n","import { Meta, Story } from '@storybook/addon-docs';\n\nimport { Gantt } from '../src';\n\nimport { CustomColumns } from './CustomColumns';\n\n<Meta\n  title=\"CustomColumns\"\n  component={Gantt}\n/>\n\nexport const Template = (props) => {\n  return <CustomColumns {...props} />;\n}\n\n# Custom columns example\n\n<Story name=\"CustomColumns\">\n  {Template.bind({})}\n</Story>\n"],"names":["ProgressColumn","__name","task","_jsxs","_Fragment","columns","DateStartColumn","TitleColumn","CustomColumns","props","tasks","setTasks","useState","initTasks","onChangeTasks","useCallback","nextTasks","action","handleDblClick","alert","handleClick","console","_jsx","DndProvider","HTML5Backend","onAddTask","Template","_createMdxContent","_components","Object","assign","h1","_provideComponents","components","children","Meta","title","component","Gantt","Story","name","bind","MDXContent","wrapper","MDXLayout","customColumns","storyName","parameters","storySource","source","componentMeta","includeStories","mdxStoryNameToKey","docs","page","_jsx2","AddContext","__namedExportsOrder"],"mappings":"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"}